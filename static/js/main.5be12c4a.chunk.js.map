{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/InfoBar/InfoBar.js","icons/onlineIcon.png","icons/closeIcon.png","components/Input/Input.js","components/Message/Message.js","components/Messages/Messages.js","App.js","index.js"],"names":["socket","Join","useState","name","setName","room","setRoom","className","type","placeholder","value","onChange","e","target","onClick","trim","preventDefault","to","InfoBar","src","alt","Input","setMessage","sendMessage","message","onKeyPress","event","key","Message","text","user","isSentByCurrentUser","trimmedName","toLowerCase","ReactEmoji","emojify","Messages","messages","map","i","Chat","location","setMessages","ENDPOINT","useRef","process","useEffect","queryString","parse","search","io","current","emit","off","on","oldMessages","App","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.5be12c4a.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport './Chat.css';\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\nimport InfoBar from '../InfoBar/InfoBar';\r\nimport Input from '../Input/Input';\r\nimport Messages from '../Messages/Messages';\r\n\r\nlet socket;\r\n\r\nconst Chat = ({ location }) => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [room, setRoom] = useState('');\r\n\tconst [message, setMessage] = useState('');\r\n\tconst [messages, setMessages] = useState([]);\r\n\tconst ENDPOINT = useRef(process.env.REACT_APP_ENDPOINT);\r\n\r\n\tconst sendMessage = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (message) {\r\n\t\t\tsocket.emit('sendMessage', message, () => setMessage(''));\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { name, room } = queryString.parse(location.search);\r\n\t\tsetName(name);\r\n\t\tsetRoom(room);\r\n\r\n\t\tsocket = io(ENDPOINT.current);\r\n\t\tsocket.emit('join', { name, room }, () => {});\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.emit('disconnectFromChat');\r\n\t\t\tsocket.off();\r\n\t\t};\r\n\t}, [ENDPOINT, location.search]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket.on('message', (message) => {\r\n\t\t\tsetMessages((oldMessages) => [...oldMessages, message]);\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"outerContainer\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<InfoBar room={room} />\r\n\t\t\t\t<Messages messages={messages} name={name} />\r\n\t\t\t\t<Input\r\n\t\t\t\t\tmessage={message}\r\n\t\t\t\t\tsetMessage={setMessage}\r\n\t\t\t\t\tsendMessage={sendMessage}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Chat;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Join.css';\r\n\r\nconst Join = () => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [room, setRoom] = useState('');\r\n\r\n\tconst clickLinkHandler = (e) =>\r\n\t\t!name.trim() || !room.trim() ? e.preventDefault() : null;\r\n\r\n\treturn (\r\n\t\t<div className=\"joinOuterContainer\">\r\n\t\t\t<div className=\"joinInnerContainer\">\r\n\t\t\t\t<h1 className=\"heading\">React Chat</h1>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\tclassName=\"joinInput\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Room\"\r\n\t\t\t\t\t\tvalue={room}\r\n\t\t\t\t\t\tonChange={(e) => setRoom(e.target.value)}\r\n\t\t\t\t\t\tclassName=\"joinInput mt-20\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link onClick={clickLinkHandler} to={`/chat?name=${name}&room=${room}`}>\r\n\t\t\t\t\t<button type=\"submit\" className=\"button mt-20\">\r\n\t\t\t\t\t\tSign in\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Join;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './InfoBar.css';\r\nimport onlineIcon from '../../icons/onlineIcon.png';\r\nimport closeIcon from '../../icons/closeIcon.png';\r\n\r\nconst InfoBar = ({ room }) => {\r\n\treturn (\r\n\t\t<div className=\"infoBar\">\r\n\t\t\t<div className=\"leftInnerContainer\">\r\n\t\t\t\t<img src={onlineIcon} alt=\"onlineIcon\" className=\"onlineIcon\" />\r\n\t\t\t\t<h3>{room}</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"rightInnerContainer\">\r\n\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t<img src={closeIcon} alt=\"closeIcon\" className=\"closeIcon\" />\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default InfoBar;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react';\r\n\r\nimport './Input.css';\r\n\r\nconst Input = ({ setMessage, sendMessage, message }) => (\r\n  <form className=\"form\">\r\n    <input\r\n      className=\"input\"\r\n      type=\"text\"\r\n      placeholder=\"Type a message...\"\r\n      value={message}\r\n      onChange={({ target: { value } }) => setMessage(value)}\r\n      onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\r\n    />\r\n    <button className=\"sendButton\" onClick={e => sendMessage(e)}>Send</button>\r\n  </form>\r\n)\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nimport './Message.css';\r\n\r\nimport ReactEmoji from 'react-emoji';\r\n\r\nconst Message = ({ message: { text, user }, name }) => {\r\n\tlet isSentByCurrentUser = false;\r\n\r\n\tconst trimmedName = name.trim().toLowerCase();\r\n\r\n\tif (user === trimmedName) {\r\n\t\tisSentByCurrentUser = true;\r\n\t}\r\n\r\n\treturn isSentByCurrentUser ? (\r\n\t\t<div className=\"messageContainer justifyEnd\">\r\n\t\t\t<p className=\"sentText pr-10\">{trimmedName}</p>\r\n\t\t\t<div className=\"messageBox backgroundBlue\">\r\n\t\t\t\t<p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div className=\"messageContainer justifyStart\">\r\n\t\t\t<div className=\"messageBox backgroundLight\">\r\n\t\t\t\t<p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\r\n\t\t\t</div>\r\n\t\t\t<p className=\"sentText pl-10 \">{user}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport './Messages.css';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Message from '../Message/Message';\r\n\r\nconst Messages = ({ messages, name }) => (\r\n\t<ScrollToBottom className=\"messages\">\r\n\t\t{messages.map((message, i) => (\r\n\t\t\t<div key={i}>\r\n\t\t\t\t<Message message={message} name={name} />\r\n\t\t\t</div>\r\n\t\t))}\r\n\t</ScrollToBottom>\r\n);\r\n\r\nexport default Messages;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport Join from './components/Join/Join';\r\nimport Chat from './components/Chat/Chat';\r\n\r\nconst App = () => (\r\n\t<Router>\r\n\t\t<Route path=\"/\" exact component={Join} />\r\n\t\t<Route path=\"/chat\" exact component={Chat} />\r\n\t</Router>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));\r\n"],"sourceRoot":""}